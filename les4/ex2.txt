1. Создаем сеть между виртуальными машинами. В меню настроек VirtualBox слева выбираем «Сеть / Network».  
Добавляем новую сеть и назовем ее NatNetwork.
2. Выключаем виртуальные машины. В настройках сети на вкладке Адаптер2 задаем еще одну сеть - Сеть Nat - NatNetwork - нашу созданную сеть.
3. Запускаем виртуальные машины и проверяем их ip адреса в созданной сети командой ip a. 10.0.2.4 - считаем master, 10.0.2.5 - slave.
4. На машине с ip 10.0.2.4 - master
	1. изменяем файл
		sudo nano /etc/my.cnf.d/server.cnf

		# укажем ID сервера — произвольное, но уникальное число
		server-id = 1
		# укажем путь к бинарному логу — там будут храниться операции
		log_bin = mysql-bin.log
		# название вашей базы данных, которая будет реплицироваться
		binlog_do_db = geekbrains

	2. перезапускаем mariaDB
		sudo systemctl restart mariadb 

	3. заходим в программу  mysql -u root -p
		вводим пароль для пользователя

	4. создаем нового пользователя для репликации 
		GRANT REPLICATION SLAVE ON *.* TO 'slave_user'@'%' IDENTIFIED BY 'password';
		FLUSH PRIVILEGES;

	5. создаем БД
		CREATE DATABASE newdatabase;
		
	6. выбираем БД
		USE newdatabase;
		
	7. с помощью следующей команды закрываем все открытые и используемые таблицы + сбрасываем кэш запросов
		FLUSH TABLES WITH READ LOCK;
		
	8.Зафиксируем состояние мастера и передадим на реплику, чтобы она знала, с какого момента может реплицировать данные и запросы.

		MariaDB [newdatabase]> SHOW MASTER STATUS;
		+------------------+----------+--------------+------------------+
		| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB |
		+------------------+----------+--------------+------------------+
		| mysql-bin.000002 |      962 | geekbrains   |                  |
		+------------------+----------+--------------+------------------+
		1 row in set (0.00 sec)
		
5. На машине с ip 10.0.2.5 - slave
	1. изменяем файл
		sudo nano /etc/my.cnf.d/server.cnf
		
		# ID Слейва, удобно выбирать следующим числом после Мастера
		server-id = 2
		# Путь к relay-логу
		relay-log = mysql-relay-bin.log
		# Путь к bin-логу на мастере
		log_bin = mysql-bin.log
		# База данных для репликации
		replicate_do_db = geekbrains

	2. перезапускаем mariaDB
		sudo systemctl restart mariadb 

	3. заходим в программу  mysql -u root -p
		вводим пароль для пользователя
		
	4. включаем репликацию, указывая данные из п.8 для мастера (из таблички).	
		CHANGE MASTER TO MASTER_HOST='10.0.2.4', MASTER_USER='slave_user', MASTER_PASSWORD='password', MASTER_LOG_FILE = 'mysql-bin.000002', MASTER_LOG_POS = 962;
		
	5. Проверяем работу репликации запросом
	
	SHOW SLAVE STATUS;
+----------------+-------------+-------------+-------------+---------------+------------------+---------------------+------------------------+---------------+-----------------------+------------------+-------------------+-----------------+---------------------+--------------------+------------------------+-------------------------+-----------------------------+------------+------------+--------------+---------------------+-----------------+-----------------+----------------+---------------+--------------------+--------------------+--------------------+-----------------+-------------------+----------------+-----------------------+-------------------------------+---------------+---------------+----------------+----------------+-----------------------------+------------------+----------------+--------------------+------------+-------------+-------------------------+-----------------------------+---------------+-----------+---------------------+-------------------------+
| Slave_IO_State | Master_Host | Master_User | Master_Port | Connect_Retry | Master_Log_File  | Read_Master_Log_Pos | Relay_Log_File         | Relay_Log_Pos | Relay_Master_Log_File | Slave_IO_Running | Slave_SQL_Running | Replicate_Do_DB | Replicate_Ignore_DB | Replicate_Do_Table | Replicate_Ignore_Table | Replicate_Wild_Do_Table | Replicate_Wild_Ignore_Table | Last_Errno | Last_Error | Skip_Counter | Exec_Master_Log_Pos | Relay_Log_Space | Until_Condition | Until_Log_File | Until_Log_Pos | Master_SSL_Allowed | Master_SSL_CA_File | Master_SSL_CA_Path | Master_SSL_Cert | Master_SSL_Cipher | Master_SSL_Key | Seconds_Behind_Master | Master_SSL_Verify_Server_Cert | Last_IO_Errno | Last_IO_Error | Last_SQL_Errno | Last_SQL_Error | Replicate_Ignore_Server_Ids | Master_Server_Id | Master_SSL_Crl | Master_SSL_Crlpath | Using_Gtid | Gtid_IO_Pos | Replicate_Do_Domain_Ids | Replicate_Ignore_Domain_Ids | Parallel_Mode | SQL_Delay | SQL_Remaining_Delay | Slave_SQL_Running_State |
+----------------+-------------+-------------+-------------+---------------+------------------+---------------------+------------------------+---------------+-----------------------+------------------+-------------------+-----------------+---------------------+--------------------+------------------------+-------------------------+-----------------------------+------------+------------+--------------+---------------------+-----------------+-----------------+----------------+---------------+--------------------+--------------------+--------------------+-----------------+-------------------+----------------+-----------------------+-------------------------------+---------------+---------------+----------------+----------------+-----------------------------+------------------+----------------+--------------------+------------+-------------+-------------------------+-----------------------------+---------------+-----------+---------------------+-------------------------+
|                | 10.0.2.4    | slave_user  |        3306 |            60 | mysql-bin.000002 |                 962 | mysql-relay-bin.000001 |             4 | mysql-bin.000002      | No               | No                | geekbrains      |                     |                    |                        |                         |                             |          0 |            |            0 |                 962 |             256 | None            |                |             0 | No                 |                    |                    |                 |                   |                |                  NULL | No                            |             0 |               |              0 |                |                             |                0 |                |                    | No         |             |                         |                             | conservative  |         0 |                NULL |                         |
+----------------+-------------+-------------+-------------+---------------+------------------+---------------------+------------------------+---------------+-----------------------+------------------+-------------------+-----------------+---------------------+--------------------+------------------------+-------------------------+-----------------------------+------------+------------+--------------+---------------------+-----------------+-----------------+----------------+---------------+--------------------+--------------------+--------------------+-----------------+-------------------+----------------+-----------------------+-------------------------------+---------------+---------------+----------------+----------------+-----------------------------+------------------+----------------+--------------------+------------+-------------+-------------------------+-----------------------------+---------------+-----------+---------------------+-------------------------+
1 row in set (0.00 sec)

Репликация развернута.